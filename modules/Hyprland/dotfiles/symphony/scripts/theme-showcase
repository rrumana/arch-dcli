#!/bin/bash
# Theme showcase with visual list overlay for recording

DELAY=${1:-4}

themes=(
	gruvbox-material
	tokyo-night
	rose-pine
	nordic
	kanagawa
	espresso
	forest
	sakura
	zen
	void
	dynamic
)

# Generate the visual list with current theme highlighted
show_list() {
	local current="$1"
	clear
	echo ""
	echo "  ┌────────────────────────┐"
	echo "  │       THEMES           │"
	echo "  ├────────────────────────┤"
	for t in "${themes[@]}"; do
		if [[ "$t" == "$current" ]]; then
			echo "  │  ► $(printf '%-18s' "$t") ◄│"
		else
			echo "  │    $(printf '%-19s' "$t") │"
		fi
	done
	echo "  └────────────────────────┘"
	echo ""
}

# Main loop
echo "Starting in 3 seconds... Position this window on screen"
sleep 3

for theme in "${themes[@]}"; do
	show_list "$theme"
	symphony switch "$theme" &>/dev/null &
	sleep "$DELAY"
done

# Cycle wallpapers in dynamic mode
for i in {1..5}; do
	show_list "dynamic"
	echo "  Wallpaper $i/3"
	~/.config/hypr/scripts/change-theme 2>/dev/null || true
	sleep "$DELAY"
done

show_list "dynamic"
echo "  Done!"
